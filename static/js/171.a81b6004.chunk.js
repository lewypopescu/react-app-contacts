"use strict";(self.webpackChunkreact_app_contacts=self.webpackChunkreact_app_contacts||[]).push([[171],{171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var s=n(43),o=n(3);function r(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var a=e=>Array.isArray(e)?e:[e];function c(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var l="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},i=0,u=1;function d(){return{s:i,v:void 0,o:null,p:null}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d();const{resultEqualityCheck:s}=t;let o,r=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const s=e.get(n);void 0===s?(t=d(),e.set(n,t)):t=s}else{let e=t.p;null===e&&(t.p=e=new Map);const s=e.get(n);void 0===s?(t=d(),e.set(n,t)):t=s}}const c=t;let i;if(t.s===u)i=t.v;else if(i=e.apply(null,arguments),r++,s){const e=o?.deref?.()??o;null!=e&&s(e,i)&&(i=e,0!==r&&r--);o="object"===typeof i&&null!==i||"function"===typeof i?new l(i):i}return c.s=u,c.v=i,i}return a.clearCache=()=>{n=d(),a.resetResultsCount()},a.resultsCount=()=>r,a.resetResultsCount=()=>{r=0},a}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o="function"===typeof e?{memoize:e,memoizeOptions:n}:e,l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let s,l=0,i=0,u={},d=t.pop();"object"===typeof d&&(u=d,d=t.pop()),r(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const p={...o,...u},{memoize:f,memoizeOptions:b=[],argsMemoize:h=m,argsMemoizeOptions:y=[],devModeChecks:x={}}=p,g=a(b),w=a(y),v=c(t),j=f((function(){return l++,d.apply(null,arguments)}),...g);const N=h((function(){i++;const e=function(e,t){const n=[],{length:s}=e;for(let o=0;o<s;o++)n.push(e[o].apply(null,t));return n}(v,arguments);return s=j.apply(null,e),s}),...w);return Object.assign(N,{resultFunc:d,memoizedResultFunc:j,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>s,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:f,argsMemoize:h})};return Object.assign(l,{withTypes:()=>l}),l}var f=p(m),b=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),s=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce(((e,t,s)=>(e[n[s]]=t,e)),{})}));return s}),{withTypes:()=>b});const h=e=>{let{contacts:t}=e;return t},y=f([h,e=>{let{filter:t}=e;return t}],((e,t)=>{let{items:n}=e;const s=n.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));return s.sort(((e,t)=>{const n=e.name.toLowerCase(),s=t.name.toLowerCase();return n<s?-1:n>s?1:0}))}));var x=n(977),g=n(579);const w=()=>{const{items:e}=(0,o.d4)(h),t=(0,o.wA)(),[n,r]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),l=e=>{const{name:t,value:n}=e.target;switch(t){case"name":return void r(n);case"number":return void c(n);default:return}};return(0,g.jsxs)("form",{onSubmit:s=>{s.preventDefault();if(e&&e.find((e=>e.name===n)))return void alert(n+" is already in contacts.");const o={name:n,number:a};t((0,x.IP)(o)),r(""),c("")},className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-lg",children:[(0,g.jsxs)("label",{className:"block mb-4",children:[(0,g.jsx)("span",{className:"text-gray-700",children:"Name"}),(0,g.jsx)("input",{onChange:l,type:"text",name:"name",value:n,placeholder:"Name",className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",pattern:"^[a-zA-Z\\s'-]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,g.jsxs)("label",{className:"block mb-4",children:[(0,g.jsx)("span",{className:"text-gray-700",children:"Number"}),(0,g.jsx)("input",{onChange:l,type:"tel",name:"number",value:a,placeholder:"Number",className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,g.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add contact"})]})};var v=n(146);const j=()=>{const e=(0,o.wA)(),t=(0,o.d4)(y),{items:n,isLoading:s,error:r}=(0,o.d4)(h);return s&&!r?(0,g.jsx)(v.A,{}):(0,g.jsx)("ul",{className:"space-y-4",children:n&&t.map((t=>{const{id:n,name:s,number:o}=t;return(0,g.jsxs)("li",{className:"bg-white shadow-md rounded-lg p-4 flex justify-between items-center",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-lg font-medium text-gray-800",children:s}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:o})]}),(0,g.jsx)("button",{type:"button",className:"text-red-600 hover:text-red-800 transition duration-200",onClick:()=>{e((0,x.MO)(n))},children:"Delete"})]},n)}))})};var N=n(719);const C=()=>{const e=(0,o.wA)();return(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{htmlFor:"filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Find contacts by name:"}),(0,g.jsx)("input",{id:"filter",type:"text",name:"filter",onChange:t=>{const{value:n}=t.target;e((0,N.l)(n))},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search contacts"})]})},k=e=>{let{title:t}=e;return(0,g.jsx)("h2",{className:"text-3xl font-bold text-blue-600 text-center my-6",children:t})},A=()=>{const e=(0,o.wA)(),{items:t,isLoading:n}=(0,o.d4)(h),r=0!==t.length;return(0,s.useEffect)((()=>{e((0,x.oe)())}),[e]),(0,g.jsx)("section",{className:"container mx-auto p-6 bg-gray-100",children:(0,g.jsxs)("div",{className:"bg-white shadow-md rounded p-6",children:[(0,g.jsx)(k,{title:"Phonebook",className:"text-2xl font-bold mb-4"}),(0,g.jsx)(w,{}),n&&!r&&(0,g.jsx)(v.A,{}),r&&(0,g.jsxs)("div",{className:"mt-6",children:[(0,g.jsx)(k,{title:"Contacts",className:"text-xl font-semibold mb-2"}),(0,g.jsx)(C,{className:"mb-4"}),(0,g.jsx)(j,{})]})]})})}}}]);
//# sourceMappingURL=171.a81b6004.chunk.js.map